{"version":3,"sources":["utils/api.js","contexts/CurrentUserContext.js","contexts/CardContext.js","components/Card.js","components/Header.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","baseUrl","headers","res","ok","json","console","log","Promise","reject","Error","status","fetch","method","then","showError","card","body","JSON","stringify","_id","name","about","avatar","isLiked","authorization","CurrentUserContext","React","createContext","CardContext","Card","props","useContext","currentUserInfo","isOwn","owner","likes","some","i","cardLikeButtonClassName","className","onClick","onCardClick","alt","src","link","onCardLike","type","length","onCardDelete","Header","Main","onEditAvatar","id","onEditProfile","onAddPlace","cards","Footer","thisYear","Date","getFullYear","PopupWithForm","isOpen","noValidate","onSubmit","onClose","aria-label","title","children","buttonTitle","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","required","value","onChange","target","placeholder","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","focus","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ImagePopup","App","currentUser","setCurrentUser","getUserInfo","handleCurrentUserInfo","catch","err","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","undefined","selectedCard","setSelectedCard","handleCardClick","closeAllPopups","setCards","handleCardLike","changeLikeCardStatus","newCard","newCards","map","c","handleCardDelete","deleteCard","filter","getInitialCards","handleInitialCards","item","renderedCards","Provider","changeUserAvatar","editUserInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f1b48b1a.chunk.js","sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  \n  // Показать ошибку в консоли\n  showError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n      console.log(res);\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  // Получить список всех карточек в виде массива\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Добавить карточку\n  postCard(card) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify(card)\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Удалить карточку\n  deleteCard(card) {\n    return fetch(`${this.baseUrl}/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Получить данные пользователя\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Заменить данные пользователя\n  editUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({ name, about })\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Заменить аватар\n  changeUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({ avatar })\n    })\n      .then(res => this.showError(res))\n  }\n\n  // Поставить или убрать лайк\n  changeLikeCardStatus(card, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.baseUrl}/cards/likes/${card._id}`, {\n        method: 'DELETE',\n        headers: this.headers,\n      })\n        .then(res => this.showError(res))\n    } else {\n      return fetch(`${this.baseUrl}/cards/likes/${card._id}`, {\n        method: 'PUT',\n        headers: this.headers,\n      })\n        .then(res => this.showError(res))\n    }\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\n  headers: {\n    authorization: '6e218dd6-3398-4e8b-ab7c-72e842f1ee4b',\n    \"Content-Type\": \"application/json\"\n  }\n})","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\nexport const currentUserInfo = {\n  name: {\n  },\n  about: {\n  },\n  avatar: {\n  }\n}","import React from 'react';\n\nexport const CardContext = React.createContext();\n\nexport const card = {\n  _id: {\n  },\n  name: {\n  },\n  link: {\n  },\n  alt: {\n  },\n  owner: {\n    _id: {\n    }\n  }\n}","import React from 'react';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { CardContext } from '../contexts/CardContext.js';\n\nfunction Card(props) {\n  \n  const card = React.useContext(CardContext);\n  const currentUserInfo = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки, \n  // чтобы скрыть или показать иконку удаления карточки\n  const isOwn = card.owner._id === currentUserInfo._id;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i._id === currentUserInfo._id);\n\n  const cardLikeButtonClassName = `${isLiked ? 'photo-gallery__like-button photo-gallery__like-button_clicked' : 'photo-gallery__like-button'}`; \n\n  function handleCardClick() {\n    props.onCardClick(props.card);\n  }\n  \n  function handleLikeClick() {\n    props.onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(card);\n  }\n\n  return (\n    <li className=\"photo-gallery__item\">\n      <img className=\"photo-gallery__image\" onClick={handleCardClick} alt={card.alt} src={card.link}/>\n      <h2 className=\"photo-gallery__heading\">{card.name}</h2>\n      <div className=\"photo-gallery__like-container\">\n        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n        <p className=\"photo-gallery__like-counter\">{`${card.likes.length}`}</p>\n      </div>\n      {isOwn ? \n        <button className=\"photo-gallery__remove-button\" onClick={handleDeleteClick} type=\"button\"></button>\n      : ''}\n    </li>\n  );\n}\n\nexport default Card;","function Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nfunction Main(props) {\n\n  const currentUserInfo = React.useContext(CurrentUserContext);\n\n\n\n\n  \n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img className=\"profile__avatar\" src={`${currentUserInfo.avatar}`} alt=\"Фотография пользователя\" />\n        <button className=\"profile__edit-button profile__edit-button_avatar\" type=\"button\" onClick={props.onEditAvatar}></button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__username\">{`${currentUserInfo.name}`}</h1>\n          <button id=\"editProfilePopupOpenButton\" className=\"profile__edit-button profile__edit-button_user-info\" type=\"button\" onClick={props.onEditProfile}></button>\n          <p className=\"profile__bio\">{`${currentUserInfo.about}`}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n   \n      <ul className=\"photo-gallery\">\n        {props.cards}\n      </ul>\n    </main>\n  );\n}\n\nexport default Main;","function Footer() {\n  const today = new Date();\n  const thisYear = today.getFullYear();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; { thisYear } Mesto Russia</p>\n    </footer>\n    );\n  }\n  \nexport default Footer;","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form noValidate onSubmit={props.onSubmit} className={`popup__form popup__form_${props.name}`} name={`${props.name}-form`}>\n        <button className=\"popup__close\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть попап\"></button>\n        <h2 className=\"popup__title\">{`${props.title}`}</h2>\n        {props.children}\n        <button className=\"popup__save\" type=\"submit\" aria-label=\"Сохранить изменения\">{`${props.buttonTitle}`}</button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n  \n  const currentUserInfo = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    if (currentUserInfo) {\n      setName(currentUserInfo.name);\n      setDescription(currentUserInfo.about);\n    }\n  }, [currentUserInfo, props.isOpen]);\n\n  return (\n    <PopupWithForm isOpen={props.isOpen} onSubmit={handleSubmit} onClose={props.onClose} name=\"edit-profile\" title=\"Редактировать профиль\" buttonTitle=\"Сохранить\" children={\n      <>\n        <div className=\"popup__wrap\">\n          <input required id=\"username-input\" value={ name || ''} onChange={handleNameChange} className=\"popup__input popup__username\" name=\"name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" />\n          <span id=\"username-input-error\" className=\"popup__error-text popup__error-text_username\"></span>\n        </div>\n        <div className=\"popup__wrap\">\n          <input required id=\"bio-input\" value={description || ''} onChange={handleDescriptionChange} className=\"popup__input popup__bio\" name=\"about\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" />\n          <span id=\"bio-input-error\" className=\"popup__error-text popup__error-text_bio\"></span>\n        </div>\n      </>\n    }/>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef(0);\n\n  function handleAvatarChange() {\n    avatarRef.current.focus();\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm isOpen={props.isOpen} onSubmit={handleSubmit} onClose={props.onClose} name=\"load-avatar\" title=\"Обновить аватар\" buttonTitle=\"Сохранить\" children={\n      <>\n        <div className=\"popup__wrap\">\n          <input required id=\"avatar-link-input\" type=\"url\" ref={avatarRef} onChange={handleAvatarChange} className=\"popup__input popup__avatar-link\" name=\"avatar\" placeholder=\"Ссылка на картинку\" />\n          <span id=\"avatar-link-input-error\" className=\"popup__error-text popup__error-text_avatar-link\"></span>\n        </div>\n      </>\n    }/>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nimport { CardContext } from '../contexts/CardContext.js';\n\nfunction AddPlacePopup(props) {\n\n  const card = React.useContext(CardContext);\n\n  const [placeName, setPlaceName] = React.useState('');\n  const [placeLink, setPlaceLink] = React.useState('');\n\n  function handlePlaceNameChange(e) {\n    setPlaceName(e.target.value);\n  }\n\n  function handlePlaceLinkChange(e) {\n    setPlaceLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: placeName,\n      link: placeLink\n    });\n  }\n  \n  React.useEffect(() => {\n    setPlaceName(placeName);\n    setPlaceLink(placeLink);\n  }, [card]);\n\n  return (\n    <PopupWithForm isOpen={props.isOpen} onSubmit={handleSubmit} onClose={props.onClose} name=\"add-card\" title=\"Новое место\" buttonTitle=\"Создать\" children={\n      <>\n        <div className=\"popup__wrap\">\n          <input required id=\"place-name-input\" value={placeName} onChange={handlePlaceNameChange} className=\"popup__input popup__place-name\" name=\"name\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" />\n          <span id=\"place-name-input-error\" className=\"popup__error-text popup__error-text_place-name\"></span>\n        </div>\n        <div className=\"popup__wrap\">\n          <input required id=\"place-link-input\" value={placeLink} onChange={handlePlaceLinkChange} type=\"url\" className=\"popup__input popup__place-link\" name=\"link\" placeholder=\"Ссылка на картинку\" />\n          <span id=\"place-link-input-error\" className=\"popup__error-text popup__error-text_place-link\"></span>\n        </div>\n      </>\n    }/>\n  );\n}\n\nexport default AddPlacePopup;","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_${props.name} ${props.card && 'popup_opened'}`}>\n      <figure className=\"popup__container popup__container_show-image\">\n        <button className=\"popup__close popup__close_show-image\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть попап\"></button>\n        <img className=\"popup__image\" alt={props.card ? props.card.alt : ''} src={props.card ? props.card.src : ''}/>\n        <figcaption className=\"popup__caption\">{props.card ? props.card.name : ''}</figcaption>\n      </figure>\n    </div>\n  );\n}\n  \nexport default ImagePopup;","import React from 'react';\n\nimport { api } from '../utils/api.js';\n\nimport '../index.css';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { CardContext } from '../contexts/CardContext.js';\n\nimport Card from './Card.js';\n\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\n\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\n\n\nfunction App() {\n\n  // Хук для установки данных пользователя в профиле\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  function handleCurrentUserInfo(res) {\n    setCurrentUser(res);\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((res) => {\n        handleCurrentUserInfo(res);\n      })\n      .catch(err => console.log(`Ошибка при обращении за информацией о пользователе: ${err}`))\n  }, []);\n\n  function handleUpdateUser(currentUser) {\n    api.editUserInfo(currentUser)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка при редактировании информации о пользователе: ${err}`))\n  }\n\n  function handleUpdateAvatar(currentUser) {\n    api.changeUserAvatar(currentUser)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка при замене аватара пользователя: ${err}`))\n  }\n\n  // Хук для попапа редактирования аватара\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  \n  // Хук для попапа редактирования информации о пользователе\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  \n  // Хук для попапа добавления карточки\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  // Хук для попапа показа полноразмерного изображения\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\n\n  function handleCardClick() {\n    setSelectedCard({\n      src: this.link,\n      name: this.name,\n      alt: `Изображение под названием ${this.name}`\n    });\n  }\n\n  // Функция закрытия всех попапов\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard(undefined);\n  }\n\n  // Карточки\n\n  const [cards, setCards] = React.useState([]);\n\n  function handleInitialCards(res) {\n    setCards(res);\n  }\n  \n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((res) => {\n        const initialCards = res.map((item) => {\n          return item\n        });\n        handleInitialCards(initialCards);\n      })\n      .catch(err => console.log(`Ошибка при запросе начальных карточек: ${err}`))\n  }, []);\n\n  // Добавление новой карточки\n  function handleAddPlaceSubmit(card) {\n    api.postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка при создании новой карточки: ${err}`))\n  }\n\n  // Обработка лайка\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n    api.changeLikeCardStatus(card, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка при изменении статуса лайка: ${err}`))\n  }\n  \n  // Обработка удаления карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка при удалении карточки: ${err}`))\n  }\n\n  const renderedCards = cards.map((card) => {\n    return <CardContext.Provider value={card} key={card._id}>\n      <Card onCardLike={handleCardLike} onCardDelete={handleCardDelete} onCardClick={handleCardClick} name={card.name} link={card.link} likes={card.likes.length} alt={`Изображение под названием ${card.name}`}/>\n    </CardContext.Provider>\n  })\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <div className=\"page__container\">\n            <Header />\n            <Main cards={renderedCards} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={handleCardClick} />\n            <Footer />\n\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onUpdateAvatar={handleUpdateAvatar} onClose={closeAllPopups} />\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} onClose={closeAllPopups} /> \n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onAddPlace={handleAddPlaceSubmit} onClose={closeAllPopups} />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} name=\"show-image\" />\n\n          </div>  \n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}